<svg viewBox="0 0 640 480" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Definizione dei pattern e gradienti -->
    <pattern id="water" patternUnits="userSpaceOnUse" width="20" height="10">
      <rect width="20" height="10" fill="#2E5984"/>
      <path d="M0,5 Q5,3 10,5 T20,5" stroke="#4A7BA7" stroke-width="1" fill="none"/>
    </pattern>
    
    <linearGradient id="skyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#87CEEB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4682B4;stop-opacity:1" />
    </linearGradient>
    
    <!-- Cursori per i verbi -->
    <g id="walkCursor" visibility="hidden">
      <circle r="3" fill="white" stroke="black"/>
      <text x="5" y="0" font-family="monospace" font-size="8" fill="white">WALK</text>
    </g>
    
    <g id="lookCursor" visibility="hidden">
      <circle r="3" fill="yellow" stroke="black"/>
      <text x="5" y="0" font-family="monospace" font-size="8" fill="white">LOOK</text>
    </g>
    
    <g id="takeCursor" visibility="hidden">
      <circle r="3" fill="red" stroke="black"/>
      <text x="5" y="0" font-family="monospace" font-size="8" fill="white">TAKE</text>
    </g>
    
    <g id="useCursor" visibility="hidden">
      <circle r="3" fill="green" stroke="black"/>
      <text x="5" y="0" font-family="monospace" font-size="8" fill="white">USE</text>
    </g>
  </defs>
  
  <!-- Sfondo nero generale -->
  <rect width="640" height="480" fill="black"/>
  
  <!-- Area di gioco principale -->
  <g id="gameArea">
    <!-- Cielo -->
    <rect x="0" y="0" width="640" height="200" fill="url(#skyGrad)"/>
    
    <!-- Mare -->
    <rect x="0" y="200" width="640" height="120" fill="url(#water)"/>
    
    <!-- Isola/terra -->
    <ellipse cx="200" cy="280" rx="150" ry="40" fill="#8B4513"/>
    <ellipse cx="450" cy="290" rx="120" ry="30" fill="#8B4513"/>
    
    <!-- Palma (oggetto interattivo) -->
    <g id="palm" onclick="interactObject('palm')" style="cursor:pointer">
      <rect x="180" y="220" width="8" height="60" fill="#8B4513"/>
      <ellipse cx="184" cy="215" rx="25" ry="15" fill="#228B22"/>
      <ellipse cx="184" cy="210" rx="20" ry="12" fill="#32CD32"/>
    </g>
    
    <!-- Barrile (oggetto interattivo) -->
    <g id="barrel" onclick="interactObject('barrel')" style="cursor:pointer">
      <ellipse cx="100" cy="280" rx="20" ry="25" fill="#8B4513"/>
      <rect x="80" y="255" width="40" height="25" fill="#A0522D"/>
      <line x1="85" y1="255" x2="85" y2="280" stroke="#654321" stroke-width="2"/>
      <line x1="95" y1="255" x2="95" y2="280" stroke="#654321" stroke-width="2"/>
      <line x1="105" y1="255" x2="105" y2="280" stroke="#654321" stroke-width="2"/>
      <line x1="115" y1="255" x2="115" y2="280" stroke="#654321" stroke-width="2"/>
    </g>
    
    <!-- Barca (oggetto interattivo) -->
    <g id="boat" onclick="interactObject('boat')" style="cursor:pointer">
      <ellipse cx="500" cy="250" rx="60" ry="15" fill="#8B4513"/>
      <rect x="480" y="235" width="40" height="15" fill="#A0522D"/>
      <rect x="495" y="220" width="10" height="15" fill="#654321"/>
      <polygon points="490,220 490,200 520,210" fill="white" stroke="black"/>
    </g>
    
    <!-- Sole (oggetto interattivo) -->
    <g id="sun" onclick="interactObject('sun')" style="cursor:pointer">
      <circle cx="550" cy="50" r="30" fill="#FFD700"/>
      <g stroke="#FFD700" stroke-width="3">
        <line x1="520" y1="50" x2="510" y2="50"/>
        <line x1="580" y1="50" x2="590" y2="50"/>
        <line x1="550" y1="20" x2="550" y2="10"/>
        <line x1="550" y1="80" x2="550" y2="90"/>
        <line x1="528" y1="28" x2="521" y2="21"/>
        <line x1="572" y1="72" x2="579" y2="79"/>
        <line x1="572" y1="28" x2="579" y2="21"/>
        <line x1="528" y1="72" x2="521" y2="79"/>
      </g>
    </g>
    
    <!-- Tesoro nascosto -->
    <g id="treasure" visibility="hidden">
      <rect x="150" y="270" width="30" height="20" fill="#FFD700" stroke="#B8860B" stroke-width="2"/>
      <circle cx="165" cy="275" r="3" fill="#B8860B"/>
    </g>
  </g>
  
  <!-- Interfaccia inferiore -->
  <rect x="0" y="320" width="640" height="160" fill="#300030"/>
  
  <!-- Area verbi (sinistra) -->
  <g id="verbArea">
    <!-- Riga 1 -->
    <rect x="10" y="330" width="60" height="25" fill="#600060" stroke="#800080" stroke-width="1"/>
    <text x="40" y="347" font-family="serif" font-size="12" fill="white" text-anchor="middle" 
          onclick="selectVerb('walk')" style="cursor:pointer">Vai verso</text>
    
    <rect x="75" y="330" width="60" height="25" fill="#600060" stroke="#800080" stroke-width="1"/>
    <text x="105" y="347" font-family="serif" font-size="12" fill="white" text-anchor="middle"
          onclick="selectVerb('look')" style="cursor:pointer">Esamina</text>
    
    <rect x="140" y="330" width="60" height="25" fill="#600060" stroke="#800080" stroke-width="1"/>
    <text x="170" y="347" font-family="serif" font-size="12" fill="white" text-anchor="middle"
          onclick="selectVerb('take')" style="cursor:pointer">Raccogli</text>
    
    <!-- Riga 2 -->
    <rect x="10" y="360" width="60" height="25" fill="#600060" stroke="#800080" stroke-width="1"/>
    <text x="40" y="377" font-family="serif" font-size="12" fill="white" text-anchor="middle"
          onclick="selectVerb('use')" style="cursor:pointer">Usa</text>
    
    <rect x="75" y="360" width="60" height="25" fill="#600060" stroke="#800080" stroke-width="1"/>
    <text x="105" y="377" font-family="serif" font-size="12" fill="white" text-anchor="middle"
          onclick="selectVerb('open')" style="cursor:pointer">Apri</text>
    
    <rect x="140" y="360" width="60" height="25" fill="#600060" stroke="#800080" stroke-width="1"/>
    <text x="170" y="377" font-family="serif" font-size="12" fill="white" text-anchor="middle"
          onclick="selectVerb('talk')" style="cursor:pointer">Parla con</text>
    
    <!-- Riga 3 -->
    <rect x="10" y="390" width="60" height="25" fill="#600060" stroke="#800080" stroke-width="1"/>
    <text x="40" y="407" font-family="serif" font-size="12" fill="white" text-anchor="middle"
          onclick="selectVerb('push')" style="cursor:pointer">Sposta</text>
    
    <rect x="75" y="390" width="60" height="25" fill="#600060" stroke="#800080" stroke-width="1"/>
    <text x="105" y="407" font-family="serif" font-size="12" fill="white" text-anchor="middle"
          onclick="selectVerb('close')" style="cursor:pointer">Chiudi</text>
    
    <rect x="140" y="390" width="60" height="25" fill="#600060" stroke="#800080" stroke-width="1"/>
    <text x="170" y="407" font-family="serif" font-size="12" fill="white" text-anchor="middle"
          onclick="selectVerb('give')" style="cursor:pointer">Dai</text>
  </g>
  
  <!-- Area inventario (destra) -->
  <g id="inventoryArea">
    <rect x="220" y="330" width="400" height="130" fill="#400040" stroke="#600060" stroke-width="2"/>
    
    <!-- Slots inventario -->
    <g id="invSlot1">
      <rect x="230" y="340" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
      <!-- Spada (oggetto inventario) -->
      <g id="sword" visibility="hidden" onclick="selectInventoryItem('sword')" style="cursor:pointer">
        <rect x="235" y="360" width="40" height="6" fill="#C0C0C0"/>
        <rect x="245" y="345" width="20" height="15" fill="#8B4513"/>
        <circle cx="255" cy="352" r="3" fill="#FFD700"/>
      </g>
    </g>
    
    <g id="invSlot2">
      <rect x="290" y="340" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
      <!-- Chiave (oggetto inventario) -->
      <g id="key" visibility="hidden" onclick="selectInventoryItem('key')" style="cursor:pointer">
        <rect x="300" y="355" width="25" height="4" fill="#FFD700"/>
        <circle cx="325" cy="357" r="8" fill="none" stroke="#FFD700" stroke-width="3"/>
        <rect x="320" y="350" width="4" height="4" fill="none" stroke="#FFD700" stroke-width="2"/>
      </g>
    </g>
    
    <g id="invSlot3">
      <rect x="350" y="340" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
      <!-- Mappa (oggetto inventario) -->
      <g id="map" visibility="hidden" onclick="selectInventoryItem('map')" style="cursor:pointer">
        <rect x="355" y="350" width="40" height="30" fill="#F5DEB3" stroke="#8B4513" stroke-width="1"/>
        <line x1="360" y1="355" x2="390" y2="355" stroke="#8B4513"/>
        <line x1="360" y1="360" x2="385" y2="360" stroke="#8B4513"/>
        <line x1="360" y1="365" x2="380" y2="365" stroke="#8B4513"/>
        <circle cx="370" cy="370" r="2" fill="red"/>
      </g>
    </g>
    
    <rect x="410" y="340" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
    <rect x="470" y="340" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
    <rect x="530" y="340" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
    
    <rect x="230" y="400" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
    <rect x="290" y="400" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
    <rect x="350" y="400" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
    <rect x="410" y="400" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
    <rect x="470" y="400" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
    <rect x="530" y="400" width="50" height="50" fill="#500050" stroke="#700070" stroke-width="1"/>
  </g>
  
  <!-- Area di testo per feedback -->
  <rect x="10" y="430" width="200" height="40" fill="#200020" stroke="#400040" stroke-width="1"/>
  <text x="15" y="445" font-family="monospace" font-size="11" fill="#FFFF00" id="feedbackText">
    Clicca sui verbi e sugli oggetti per interagire
  </text>
  <text x="15" y="460" font-family="monospace" font-size="11" fill="#FFFF00" id="feedbackText2">
  </text>
  
  <!-- Stato del verbo selezionato -->
  <text x="220" y="325" font-family="serif" font-size="14" fill="#FFFF00" id="selectedVerb">
    Nessun verbo selezionato
  </text>
  
  <!-- Script inline SVG -->
  <script type="text/ecmascript"><![CDATA[
    var currentVerb = '';
    var selectedItem = '';
    var gameState = {
      hasKey: false,
      hasSword: false,
      hasMap: false,
      treasureFound: false
    };
    
    function selectVerb(verb) {
      currentVerb = verb;
      var verbText = {
        'walk': 'Vai verso',
        'look': 'Esamina',
        'take': 'Raccogli',
        'use': 'Usa',
        'open': 'Apri',
        'talk': 'Parla con',
        'push': 'Sposta',
        'close': 'Chiudi',
        'give': 'Dai'
      };
      
      document.getElementById('selectedVerb').textContent = 'Verbo: ' + verbText[verb];
      document.getElementById('feedbackText').textContent = verbText[verb] + ' qualcosa...';
      document.getElementById('feedbackText2').textContent = '';
      
      // Reset highlight verbi
      var verbs = document.getElementsByTagName('rect');
      for(var i = 0; i < verbs.length; i++) {
        if(verbs[i].getAttribute('fill') == '#800080') {
          verbs[i].setAttribute('fill', '#600060');
        }
      }
    }
    
    function interactObject(objectId) {
      if(!currentVerb) {
        document.getElementById('feedbackText').textContent = 'Prima seleziona un verbo!';
        return;
      }
      
      var feedback1 = '';
      var feedback2 = '';
      
      switch(currentVerb + '_' + objectId) {
        case 'look_palm':
          feedback1 = 'È una bellissima palma tropicale.';
          feedback2 = 'Sembra crescere su qualcosa di interessante...';
          break;
        case 'look_barrel':
          feedback1 = 'Un vecchio barrile di legno.';
          feedback2 = 'Potrebbe contenere qualcosa di utile.';
          break;
        case 'look_boat':
          feedback1 = 'Una piccola barca da pesca.';
          feedback2 = 'Sembra in buone condizioni.';
          break;
        case 'look_sun':
          feedback1 = 'Il sole splende alto nel cielo.';
          feedback2 = 'È una giornata perfetta per cercare tesori!';
          break;
        case 'take_barrel':
          feedback1 = 'Hai aperto il barrile!';
          feedback2 = 'Dentro c\'è una chiave arrugginita!';
          document.getElementById('key').setAttribute('visibility', 'visible');
          gameState.hasKey = true;
          break;
        case 'use_key':
          if(gameState.hasKey) {
            feedback1 = 'Usi la chiave sotto la palma...';
            feedback2 = 'Hai trovato un forziere del tesoro!';
            document.getElementById('treasure').setAttribute('visibility', 'visible');
            gameState.treasureFound = true;
          }
          break;
        case 'take_treasure':
          if(gameState.treasureFound) {
            feedback1 = 'Hai raccolto il tesoro!';
            feedback2 = 'Ora sei ricco! Hai vinto!';
            document.getElementById('map').setAttribute('visibility', 'visible');
            gameState.hasMap = true;
          }
          break;
        case 'push_palm':
          if(!gameState.hasKey) {
            feedback1 = 'Hai mosso la palma...';
            feedback2 = 'C\'è qualcosa sepolto qui sotto!';
          } else {
            feedback1 = 'La palma è già stata spostata.';
          }
          break;
        case 'walk_boat':
          feedback1 = 'Ti avvicini alla barca.';
          feedback2 = 'Potresti usarla per andare via dall\'isola.';
          break;
        default:
          feedback1 = 'Non puoi ' + currentVerb + ' questo oggetto.';
          feedback2 = 'Prova con un altro verbo.';
      }
      
      document.getElementById('feedbackText').textContent = feedback1;
      document.getElementById('feedbackText2').textContent = feedback2;
      currentVerb = '';
      document.getElementById('selectedVerb').textContent = 'Nessun verbo selezionato';
    }
    
    function selectInventoryItem(itemId) {
      selectedItem = itemId;
      document.getElementById('feedbackText').textContent = 'Hai selezionato: ' + itemId;
      document.getElementById('feedbackText2').textContent = 'Ora seleziona un verbo per usarlo.';
    }
  ]]></script>
</svg>